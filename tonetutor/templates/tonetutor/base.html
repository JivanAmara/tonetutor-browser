{% load static %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>

<head>
    {% block head %}
    <script type='text/javascript'>
        // Set these configuration variables so javascript later can collect the info.
        var fbAppId = '{{FB_APP_ID}}';
        // Actually protocol+domain
        var domain = 'http://{{site}}';
    </script>
    <meta property="fb:app_id" content="{{FB_APP_ID}}" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="http://{{site}}/static/tonetutor/images/site_logo.png" />
    <meta property="og:url" content="http://{{site}}/" />
    <meta property="og:description" content="A Mandarin Chinese learning tool to help you tackle the sometimes daunting task of pronuncing the tones.  Try it for free." />
    <meta property="og:title" content="Mandarin Tone Tutor" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="600" />

    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src='{% static "webui/js/jquery-3.1.0.min.js" %}'></script>
    <script src='{% static "tonetutor/js/menu.js" %}' type='text/javascript'></script>
    <link rel='stylesheet' type='text/css'
        href='{% static "tonetutor/css/menu_shared.css" %}' media='all' /> 

    <script type='text/javascript'>
        $(document).ready(function() {
            var color_theme = '{{color_theme}}';
            if (color_theme == '') {
                color_theme = 'greys';
            }
            // Set default color scheme.
            var base_url;
            var menu_url;

            if (color_theme == 'purple') {
                base_url = '{% static "tonetutor/css/site_purple.css" %}';
                menu_url = '{% static "tonetutor/css/menu_purple.css" %}';
            }
            else if (color_theme == 'greys') {
                base_url = '{% static "tonetutor/css/site_greys.css" %}';
                menu_url = '{% static "tonetutor/css/menu_greys.css" %}';
            }
            else if (color_theme == 'inverted') {
                base_url = '{% static "tonetutor/css/site_inverted.css" %}';
                menu_url = '{% static "tonetutor/css/menu_inverted.css" %}';
            }

            var baseCssLink = document.getElementById('site_base_css');
            baseCssLink.href = base_url;

            var menuCssLink = document.getElementById('menu_css');
            menuCssLink.href = menu_url;
        });
    </script>

    <link id ='site_base_css' rel='stylesheet' type='text/css'
        href='{% static "tonetutor/css/site_greys.css" %}' media='all' />
    <link id ='menu_css' rel='stylesheet' type='text/css'
        href='{% static "tonetutor/css/menu_greys.css" %}' media='all' />
    {% endblock %}
</head>

<body>
    {% block body %}
    {% include "tonetutor/menu.html" %}
    <noscript><p class='alert'>This site won't work properly without javascript enabled</p></noscript>
    {% endblock %}
</body>
