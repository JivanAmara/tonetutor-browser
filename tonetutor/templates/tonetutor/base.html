{% load static %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>

<head>
    {% block head %}
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src='{% static "webui/js/jquery-3.1.0.min.js" %}'></script>
    <script src='{% static "tonetutor/js/menu.js" %}' type='text/javascript'></script>

    <script type='text/javascript'>
        $(document).ready(function() {
            var color_theme = '{{color_theme}}';
            if (color_theme == '') {
                color_theme = 'greys';
            }
            // Set default color scheme.
            var base_url;
            var menu_url;

            if (color_theme == 'purple') {
                base_url = '{% static "tonetutor/css/site_purple.css" %}';
                menu_url = '{% static "tonetutor/css/menu_purple.css" %}';
            }
            else if (color_theme == 'greys') {
                base_url = '{% static "tonetutor/css/site_greys.css" %}';
                menu_url = '{% static "tonetutor/css/menu_greys.css" %}';
            }
            else if (color_theme == 'inverted') {
                base_url = '{% static "tonetutor/css/site_inverted.css" %}';
                menu_url = '{% static "tonetutor/css/menu_inverted.css" %}';
            }

            var cssId = 'site_base_css';  // you could encode the css path itself to generate id..
            if (!document.getElementById(cssId))
            {
                var head  = document.getElementsByTagName('head')[0];
                var link  = document.createElement('link');
                link.id   = cssId;
                link.rel  = 'stylesheet';
                link.type = 'text/css';
                link.href = base_url;
                link.media = 'all';
                head.appendChild(link);
            }                
            var cssId = 'menu_css';  // you could encode the css path itself to generate id..
            if (!document.getElementById(cssId))
            {
                var head  = document.getElementsByTagName('head')[0];
                var link  = document.createElement('link');
                link.id   = cssId;
                link.rel  = 'stylesheet';
                link.type = 'text/css';
                link.href = menu_url;
                link.media = 'all';
                head.appendChild(link);
            }                
        });
    </script>
    
    {% endblock %}
</head>

<body>
    {% block body %}
    {% include "tonetutor/menu.html" %}
    <noscript><p class='alert'>This site won't work properly without javascript enabled</p></noscript>
    {% endblock %}
</body>
